{"ast":null,"code":"import _defineProperty from \"/Users/francopagella/Desktop/code/week10/crm/crm/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/francopagella/Desktop/code/week10/crm/crm/src/components/routes/clients/Clients.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Client from './Client';\nimport ClientsHeader from './ClientsHeader';\nimport ClientsPages from './ClientsPages';\nimport EditBox from './EditBox';\nimport axios from 'axios';\n\nclass Clients extends Component {\n  constructor() {\n    super();\n\n    this.changeClient = client => {\n      this.setState({\n        edit: true\n      });\n      this.setState({\n        editThis: client\n      });\n    };\n\n    this.closeChangeClients = () => {\n      this.setState({\n        edit: false\n      });\n    };\n\n    this.sendChangeClient = newInfo => {\n      axios.put(\"http://localhost:5000/editclient/\".concat(this.state.editThis.email), newInfo);\n      this.setState({\n        edit: false\n      });\n    };\n\n    this.changePages = bool => {\n      if (bool && this.state.pages.actual < this.props.length) {\n        let pages = _objectSpread({}, this.state.pages);\n\n        pages.min = this.state.pages.min + 20;\n        pages.max = this.state.pages.max + 20;\n        pages.actual = this.state.pages.actual + 1;\n        this.setState({\n          pages: pages\n        });\n      } else if (!bool && this.state.pages.min > 0) {\n        let pages = _objectSpread({}, this.state.pages);\n\n        pages.min = this.state.pages.min - 20;\n        pages.max = this.state.pages.max - 20;\n        pages.actual = this.state.pages.actual - 1;\n        this.setState({\n          pages: pages\n        });\n      }\n    };\n\n    this.state = {\n      pages: {\n        min: 0,\n        max: 19,\n        actual: 1\n      },\n      edit: false,\n      editThis: {}\n    };\n  }\n\n  render() {\n    let clients = this.props.clients.filter((c, i) => i >= this.state.pages.min && i <= this.state.pages.max);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.edit ? React.createElement(EditBox, {\n      send: this.sendChangeClient,\n      close: this.closeChangeClients,\n      client: this.state.editThis,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }) : null, React.createElement(ClientsHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), clients.map((c, i) => React.createElement(Client, {\n      changeClient: this.changeClient,\n      client: c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(ClientsPages, {\n      pages: this.state.pages,\n      length: this.props.length,\n      changePages: this.changePages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Clients;","map":{"version":3,"sources":["/Users/francopagella/Desktop/code/week10/crm/crm/src/components/routes/clients/Clients.js"],"names":["React","Component","Client","ClientsHeader","ClientsPages","EditBox","axios","Clients","constructor","changeClient","client","setState","edit","editThis","closeChangeClients","sendChangeClient","newInfo","put","state","email","changePages","bool","pages","actual","props","length","min","max","render","clients","filter","c","i","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Client from './Client';\nimport ClientsHeader from './ClientsHeader';\nimport ClientsPages from './ClientsPages';\nimport EditBox from './EditBox';\nimport axios from 'axios';\n\n\n\nclass Clients extends Component {\n    constructor(){\n        super()\n        this.state = {\n            pages: {\n                min: 0,\n                max: 19,\n                actual: 1,\n               },\n               edit: false,\n               editThis:{}\n        }\n    }\nchangeClient = (client) =>{\n  this.setState({edit: true})\n  this.setState({editThis: client})\n}\ncloseChangeClients = () =>{\n  this.setState({edit: false})\n}\nsendChangeClient = (newInfo) =>{\n  axios.put(`http://localhost:5000/editclient/${this.state.editThis.email}`, (newInfo))\n  this.setState({edit: false})\n}\n\n    changePages = bool =>{\n        if( bool && this.state.pages.actual < this.props.length){\n          let pages = {...this.state.pages}\n          pages.min = this.state.pages.min + 20\n          pages.max = this.state.pages.max + 20\n          pages.actual = this.state.pages.actual + 1\n          this.setState({pages: pages})\n        }\n        else if(!bool && this.state.pages.min > 0 ){\n          let pages = {...this.state.pages}\n          pages.min = this.state.pages.min - 20\n          pages.max = this.state.pages.max - 20\n          pages.actual = this.state.pages.actual - 1\n          this.setState({pages: pages})\n        }\n      }\n\n    render() {\n       \n        let clients = this.props.clients.filter((c, i) => i >= this.state.pages.min && i <= this.state.pages.max )\n        \n\n        return (<div>\n           {this.state.edit ? <EditBox send={this.sendChangeClient} close={this.closeChangeClients} client={this.state.editThis}/> : null}\n            <ClientsHeader/>\n            {clients.map((c, i) =>  <Client  changeClient={this.changeClient} client={c}/> )}\n            <ClientsPages pages={this.state.pages} length={this.props.length} changePages={this.changePages} />\n        </div>)\n    }\n}\nexport default Clients;"]},"metadata":{},"sourceType":"module"}