{"ast":null,"code":"var _jsxFileName = \"/Users/francopagella/Desktop/code/week10/crm/crm/src/components/routes/actions/UpdateClient.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\n\nclass UpdateClient extends Component {\n  constructor() {\n    super();\n\n    this.update = async event => {\n      await this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.transfer = () => {\n      axios.put(\"http://localhost:5000/updateowner/\".concat(this.state.name), {\n        owner: this.state.owner\n      });\n    };\n\n    this.sendEmail = () => {\n      axios.put(\"http://localhost:5000/sendemail/\".concat(this.state.name), {\n        email: this.state.email\n      });\n    };\n\n    this.state = {\n      owners: [],\n      name: \"\",\n      transfer: \"\",\n      email: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let ownersobj = {};\n    this.props.clients.forEach(d => {\n      if (!ownersobj[d.owner]) {\n        this.state.owners.push(d.owner);\n        ownersobj[d.owner] = true;\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"UPDATE CLIENT\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Client: \", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.update,\n      placeholder: \"Client name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Trasfer ownership to:\", React.createElement(\"select\", {\n      onChange: this.update,\n      name: \"transfer\",\n      value: this.state.transfer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, this.state.owners.map(o => React.createElement(\"option\", {\n      value: o,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, o))), React.createElement(\"button\", {\n      onClick: this.transfer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Transfer\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Send email:\", React.createElement(\"select\", {\n      onChange: this.update,\n      name: \"email\",\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"A\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"A\"), React.createElement(\"option\", {\n      value: \"B\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"B\"), React.createElement(\"option\", {\n      value: \"C\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"C\"), React.createElement(\"option\", {\n      value: \"D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"D\")), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Send\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Declare sale \", React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Declare\")));\n  }\n\n}\n\nexport default UpdateClient;","map":{"version":3,"sources":["/Users/francopagella/Desktop/code/week10/crm/crm/src/components/routes/actions/UpdateClient.js"],"names":["React","Component","Axios","UpdateClient","constructor","update","event","setState","target","name","value","transfer","axios","put","state","owner","sendEmail","email","owners","componentDidMount","ownersobj","props","clients","forEach","d","push","render","map","o"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Axios from 'axios';\nclass UpdateClient extends Component {\n    constructor(){\n        super()\n        this.state={\n            owners:[],\n            name:\"\",\n            transfer: \"\",\n            email:\"\"\n        }\n    }\n\n    componentDidMount(){\n        let ownersobj = {}\n        this.props.clients.forEach(d => {\n            if (!ownersobj[d.owner]) {\n                this.state.owners.push(d.owner)\n                ownersobj[d.owner] = true\n\n            }\n        })\n    }\n\n    update = async (event) => {\n        await this.setState({\n            [event.target.name]: event.target.value,\n        })\n    }\n\n    transfer = () => {\n        axios.put(`http://localhost:5000/updateowner/${this.state.name}`, ({owner: this.state.owner}))\n    }\n    sendEmail = () => {\n        axios.put(`http://localhost:5000/sendemail/${this.state.name}`, ({email: this.state.email}))\n    }\n\n\n\n\n    render() {\n        \n        return (<div>\n            UPDATE CLIENT\n            {/* look for client */}\n            <div>Client: <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.update} placeholder=\"Client name\" /></div>\n            \n            {/* transfer client */}\n            <div>Trasfer ownership to:\n                 <select onChange={this.update} name=\"transfer\" value={this.state.transfer}>\n                    {this.state.owners.map(o => <option value={o}>{o}</option>)}\n\n                </select>\n                <button onClick={this.transfer} >Transfer</button>\n            </div>\n\n            {/* send an email to client */}\n            <div>Send email:\n                    <select onChange={this.update} name=\"email\" value={this.state.email}>\n                         <option value=\"A\">A</option>\n                         <option value=\"B\">B</option>\n                        <option value=\"C\">C</option>\n                        <option value=\"D\">D</option>\n                     </select>\n\n                <button>Send</button>\n            </div>\n\n            {/* declare sale */}\n            <div>Declare sale <button>Declare</button></div>\n\n        </div>)\n    }\n\n}\n\nexport default UpdateClient;"]},"metadata":{},"sourceType":"module"}