{"ast":null,"code":"import _defineProperty from \"/Users/francopagella/Desktop/code/week10/crm/crm/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/francopagella/Desktop/code/week10/crm/crm/src/components/routes/clients/Clients.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Client from './Client';\nimport ClientsHeader from './ClientsHeader';\nimport ClientsPages from './ClientsPages';\nimport EditBox from './EditBox';\nimport axios from 'axios';\n\nclass Clients extends Component {\n  constructor() {\n    super();\n\n    this.changeClient = client => {\n      if (!this.state.edit) {}\n\n      this.setState({\n        edit: true\n      });\n      this.setState({\n        editThis: client\n      });\n    };\n\n    this.closeChangeClients = () => {\n      this.setState({\n        edit: false\n      });\n    };\n\n    this.sendChangeClient = newInfo => {\n      axios.put(\"http://localhost:5000/editclient/\".concat(this.state.editThis.email), newInfo);\n      console.log(newInfo);\n      this.setState({\n        edit: false\n      });\n    };\n\n    this.changePages = bool => {\n      if (bool && this.state.pages.actual < this.props.length) {\n        let pages = _objectSpread({}, this.state.pages);\n\n        pages.min = this.state.pages.min + 20;\n        pages.max = this.state.pages.max + 20;\n        pages.actual = this.state.pages.actual + 1;\n        this.setState({\n          pages: pages\n        });\n      } else if (!bool && this.state.pages.min > 0) {\n        let pages = _objectSpread({}, this.state.pages);\n\n        pages.min = this.state.pages.min - 20;\n        pages.max = this.state.pages.max - 20;\n        pages.actual = this.state.pages.actual - 1;\n        this.setState({\n          pages: pages\n        });\n      }\n    };\n\n    this.state = {\n      pages: {\n        min: 0,\n        max: 19,\n        actual: 1\n      },\n      edit: false,\n      editThis: {}\n    };\n  }\n\n  render() {\n    let clients = this.props.clients.filter((c, i) => i >= this.state.pages.min && i <= this.state.pages.max);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.state.edit ? React.createElement(EditBox, {\n      send: this.sendChangeClient,\n      close: this.closeChangeClients,\n      client: this.state.editThis,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }) : null, React.createElement(ClientsHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), clients.map((c, i) => React.createElement(Client, {\n      changeClient: this.changeClient,\n      client: c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(ClientsPages, {\n      pages: this.state.pages,\n      length: this.props.length,\n      changePages: this.changePages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Clients;","map":{"version":3,"sources":["/Users/francopagella/Desktop/code/week10/crm/crm/src/components/routes/clients/Clients.js"],"names":["React","Component","Client","ClientsHeader","ClientsPages","EditBox","axios","Clients","constructor","changeClient","client","state","edit","setState","editThis","closeChangeClients","sendChangeClient","newInfo","put","email","console","log","changePages","bool","pages","actual","props","length","min","max","render","clients","filter","c","i","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Client from './Client';\nimport ClientsHeader from './ClientsHeader';\nimport ClientsPages from './ClientsPages';\nimport EditBox from './EditBox';\nimport axios from 'axios';\n\n\n\nclass Clients extends Component {\n  constructor() {\n    super()\n    this.state = {\n      pages: {\n        min: 0,\n        max: 19,\n        actual: 1,\n      },\n      edit: false,\n      editThis: {}\n    }\n  }\n  changeClient = (client) => {\n   if(!this.state.edit){\n     \n   }\n       this.setState({ edit: true })\n    this.setState({ editThis: client })\n   \n  }\n\n  closeChangeClients = () => {\n    this.setState({ edit: false })\n  }\n\n  sendChangeClient = (newInfo) => {\n    axios.put(`http://localhost:5000/editclient/${this.state.editThis.email}`, (newInfo))\n    console.log(newInfo)\n\n    this.setState({ edit: false })\n  }\n\n\n  changePages = bool => {\n    if (bool && this.state.pages.actual < this.props.length) {\n      let pages = { ...this.state.pages }\n      pages.min = this.state.pages.min + 20\n      pages.max = this.state.pages.max + 20\n      pages.actual = this.state.pages.actual + 1\n      this.setState({ pages: pages })\n    }\n    else if (!bool && this.state.pages.min > 0) {\n      let pages = { ...this.state.pages }\n      pages.min = this.state.pages.min - 20\n      pages.max = this.state.pages.max - 20\n      pages.actual = this.state.pages.actual - 1\n      this.setState({ pages: pages })\n    }\n  }\n\n  render() {\n\n    let clients = this.props.clients.filter((c, i) => i >= this.state.pages.min && i <= this.state.pages.max)\n\n\n    return (<div>\n      {this.state.edit ? <EditBox send={this.sendChangeClient} close={this.closeChangeClients} client={this.state.editThis} /> : null}\n      <ClientsHeader />\n      {clients.map((c, i) => <Client changeClient={this.changeClient} client={c} />)}\n      <ClientsPages pages={this.state.pages} length={this.props.length} changePages={this.changePages} />\n    </div>)\n  }\n}\nexport default Clients;"]},"metadata":{},"sourceType":"module"}